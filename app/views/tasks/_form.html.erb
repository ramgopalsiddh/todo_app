<%= turbo_frame_tag 'new_task' do %>
  <%= form_with(model: task, url: tasks_path, local: false, id: 'new_task_form') do |form| %>
    <!-- Display validation errors -->
    <% if task.errors.any? %>
      <div class="alert alert-danger w-50">
        <h4 class="alert-heading">Errors:</h4>
        <ul>
          <% task.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <!-- Form fields -->
    <div class="row mt-2">
      <div class="col-md-6">
        <div class="form-group">
          <%= form.text_field :title, name: "task[title]", placeholder: "Title of todo", class: "form-control" %>
        </div>
      </div>
    </div>

    <div class="row mt-2">
      <div class="col-md-6">
        <div class="form-group">
          <%= form.text_area :description, name: "task[description]", placeholder: "Description of todo", class: "form-control" %>
        </div>
      </div>
    </div>

    <div class="row mt-2">
      <div class="col-md-4">
        <div class="form-group">
          <%= form.label :due_date, "Due Date", class: "form-label" %>
          <%= form.datetime_field :due_date, name: "task[due_date]", class: "form-control custom" %>
        </div>
      </div>
      <div class="col-md-2">
        <%= form.submit "Create Task !!!", class: "btn btn-primary custom-mt" %>
      </div>
    </div>
  <% end %>
<% end %>
